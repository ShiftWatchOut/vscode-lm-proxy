# トラブルシューティングガイド

このガイドでは、VSCode LiteLLM拡張機能を使用する際に発生する可能性がある一般的な問題とその解決策について説明します。

## インストールに関する問題

### 拡張機能をインストールできない

**症状**: 拡張機能のインストールが失敗する。

**解決策**:
1. VSCodeを最新バージョン（1.93.0以降）に更新しているか確認してください。
2. インターネット接続を確認してください。
3. VSCodeを再起動し、再度インストールを試してください。
4. VSCodeの開発者ツールコンソールを確認し、エラーメッセージの詳細を確認してください。

## サーバー関連の問題

### サーバーが起動しない

**症状**: 「サーバー起動エラー」というメッセージが表示される。

**解決策**:
1. 他のアプリケーションがポート4000を使用していないか確認してください。
   ```bash
   lsof -i :4000
   ```
2. 使用中の場合は、そのプロセスを終了するか、拡張機能のコードを修正して別のポートを使用してください。
3. VSCodeを管理者権限で実行してみてください。
4. VSCodeを再起動してみてください。

### サーバーが突然停止する

**症状**: サーバーが動作していたが、突然停止した。

**解決策**:
1. VSCodeの出力パネルで「VSCode LiteLLM」のログを確認してください。
2. メモリ不足や他のシステムリソースの問題がないか確認してください。
3. 拡張機能を無効にして再度有効化してみてください。

## モデル選択の問題

### モデルが選択できない

**症状**: モデル選択コマンドを実行しても何も表示されない、またはエラーが表示される。

**解決策**:
1. VSCodeがLanguage Model APIへのアクセス権を持っているか確認してください。
2. インターネット接続を確認してください。
3. GitHub Copilotなど、他のLLM拡張機能がインストールされているか確認してください。
4. VSCodeを再起動してみてください。

### 選択したモデルが記憶されない

**症状**: モデルを選択しても、拡張機能を再起動するとリセットされる。

**解決策**:
1. VSCodeのワークスペースまたはユーザー設定が書き込み可能であることを確認してください。
2. 拡張機能を無効にして再度有効化してみてください。

## API使用時の問題

### リクエストがタイムアウトする

**症状**: APIリクエストが長時間応答を返さずにタイムアウトする。

**解決策**:
1. ネットワーク接続を確認してください。
2. リクエストが複雑すぎないか確認してください。
3. サーバーが実行中であることを確認してください。
4. VSCodeのメモリ使用量が高すぎないか確認してください。

### トークン制限エラーが発生する

**症状**: 「トークン制限超過」というエラーが返される。

**解決策**:
1. リクエストのメッセージを短くしてください。
2. 複数の小さなリクエストに分割してください。
3. より大きなコンテキストウィンドウを持つモデルに切り替えてください。

### レート制限エラーが発生する

**症状**: 「レート制限に達しました」というエラーが返される。

**解決策**:
1. リクエストの頻度を下げてください（デフォルトは1分あたり10リクエスト）。
2. しばらく待ってから再試行してください。
3. 複数のリクエストを1つにまとめることを検討してください。

## その他の問題

### ステータスバーの表示が更新されない

**症状**: サーバーの状態が変わってもステータスバーが更新されない。

**解決策**:
1. コマンドパレットから「リロードウィンドウ」を実行してVSCodeを再読み込みしてください。
2. 拡張機能を無効にして再度有効化してみてください。

### キーバインディングが機能しない

**症状**: 設定されたキーバインディングでコマンドが実行されない。

**解決策**:
1. キーボードショートカットの設定で、キーバインディングが他のコマンドと競合していないか確認してください。
2. VSCodeの「キーボードショートカット」設定で、バインディングを手動で再設定してみてください。

## 問題が解決しない場合

上記の対処法で問題が解決しない場合は、以下の情報を含むIssueを作成してください：

1. VSCodeのバージョン
2. 拡張機能のバージョン
3. オペレーティングシステムの情報
4. 詳細なエラーメッセージとスタックトレース（可能な場合）
5. 問題を再現する手順

また、VSCodeの開発者ツール（ヘルプ > 開発者ツールの切り替え）を開いてコンソールログを確認すると、より詳細な診断情報が得られる場合があります。
